# Foodgram

Foodgram - это приложение для публикации рецептов, добавления их в избранное и корзину покупок. Пользователи могут подписываться друг на друга, чтобы следить за новыми рецептами.

## Основные возможности
### Пользователи
- Регистрация и авторизация.
- Подписка на других пользователей.
- Просмотр подписок.

### Рецепты
- Создание, редактирование и удаление рецептов.
- Просмотр рецептов других пользователей.
- Добавление рецептов в избранное и корзину покупок.

### Теги и ингредиенты
- Просмотр и фильтрация рецептов по тегам и ингредиентам.
- Загрузка предустановленных ингредиентов.

### Список покупок
- Формирование списка покупок из ингредиентов рецептов.
- Скачивание списка покупок в формате PDF.

## API
Проект предоставляет RESTful API для всех основных функций. Документация по API доступна по адресу **/api/docs/**.

### Примеры API запросов
#### Получение списка рецептов

``` http
GET /api/recipes/
```

#### Создание нового рецепта

``` http
POST /api/recipes/
```

#### Добавление рецепта в избранное

``` http
POST /api/recipes/{id}/favorite/
```

#### Добавление рецепта в корзину покупок

``` http
POST /api/recipes/{id}/shopping_cart/
```

## Технологии
Проект реализован с использованием следующих технологий:
- **Django**: Фреймворк для разработки веб-приложений на языке Python.
- **Django REST framework**: Мощный инструмент для создания веб-API на основе Django.
- **Djoser**: Библиотека для управления пользователями в Django REST framework.
- **PostgreSQL**: Реляционная база данных, используемая для хранения данных приложения.
- **NGINX** - веб-сервер и обратный прокси-сервер для обработки HTTPS-запросов.
- **Gunicorn** - WSGI HTTP сервер для запуска Python приложений.
- **Docker**: Платформа для разработки, доставки и запуска приложений в контейнерах.
- **Docker Compose**: Инструмент для определения и запуска многоконтейнерных Docker приложений.
- **ReportLab**: Библиотека для создания PDF-документов на языке Python.
- **GitHub Actions** - сервис для автоматизации сборки, тестирования и развертывания проекта.

## Установка и запуск
### Клонирование репозитория

``` sh
git clone https://github.com/yourusername/foodgram.git
cd foodgram
```

### Сборка и запуск контейнеров

Перейдите в папку infra и запустите Docker Compose:

``` sh
cd infra
docker compose up -d --build
```

#### Применение миграций

После запуска контейнеров, выполните миграции для настройки базы данных:

``` sh
docker compose exec backendfoodgram python manage.py migrate
```

### Создание суперпользователя

Создайте суперпользователя для доступа к административной панели:

``` sh
docker compose exec backendfoodgram python manage.py createsuperuser
```

### Загрузка статики
Загрузити статику для корректного отображения административной панели.

``` sh
docker comopse exec backendfoodgram python manage.py collectstatic --no-input
```

### Загрузка данных
Для загрузки предустановленных данных, выполните команды:

``` sh
docker compose cp ../data/ingredients.csv db_foodgram:/
docker compose exec db_foodgram bash -c "psql -U postgres -d postgres -c \"COPY recipes_ingredient (name, measurement_unit) FROM '/ingredients.csv' DELIMITER ',' CSV;\""
```
